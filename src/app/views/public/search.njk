{%extends "./layout.njk"%}

{% block header_find %}
  <form class="filter" action="/search" method="get">
    <input type="text" name="filter" value="{{filter}}" placeholder="Busque uma receita">
    <button type="submit">Buscar</button>
  </form>
{% endblock %}

{%block content%}

  <div class="content_recipe">
    <h1>Buscando por:
      {{filter}}</h1>
    <div class="recipe">
      {%for recipe in recipes%}
        <div class="recipe_card" id="{{recipe.id}}">
          <div class="recipe_img">

            {% if not recipe.image %}
              <img src="http://placehold.it/300x140?text=Sem Foto">
              {%else%}
              <img src="{{recipe.image}}" alt="{{recipe.title}}">
            {% endif %}

          </div>
          <div class="recipe_desc">
            <h2>{{recipe.title}}</h2>
            <p>{{recipe.recipe_author}}</p>
          </div>
        </div>
        {%endfor%}
      </div>
      <div class="pagination" data-page="{{pagination.page}}" data-total="{{pagination.total}}" data-filter="{{filter}}"></div>
    </div>
    {%endblock%}
    {%block scripts%}
      <script src="/card_recipe.js"></script>
      {%endblock%}